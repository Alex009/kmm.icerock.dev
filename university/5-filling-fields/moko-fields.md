---
sidebar_position: 2
---

# moko-fields

Для использования форм ввода в общем коде мы реализовали библиотеку [moko-fields](https://github.com/icerockdev/moko-fields).

Для знакомства с библиотекой посмотрите материалы на странице в базе знаний - [moko-fields](/learning/libraries/moko/moko-fields).

Чтобы реализовать в поле ввода с валидацией в общем коде - потребуются следующие элементы:
- LiveData(String) - текст поля
- LiveData(Bool) - валидно/невалидно поле (??? можно же привязываться к тексту ошибки, что он isEmpty)
- LiveData(String) - текст ошибки валидации

А представьте, что у вас 7 или 8 таких полей, получается дофига таких лайвдат, в которых очень легко будет ошибиться

Библиотека позволяет использовать специальный класс FormField для форм ввода, который включает в себя все эти три лайвдаты 

Для создания FormField необходимо только установить тип (не обязательно использовать стринг, подойдет любой, который можно как-то установить int, bitmap, data и тд) и задать валидацию для этого значения: 
можно использовать [встроенные валидаторы](https://github.com/icerockdev/moko-fields/tree/c9c09069da717d4995ee6c96f8ec6ef7446af503/fields/src/commonMain/kotlin/dev/icerock/moko/validations)

Также, можно сделать полностью свою валидацию

Что можно сделать с валидацией: 

- валидацию можно вызвать в любой момент. Полезно, потому что при первом вводе юзера - валидация не проверяется, пока он не довводил до конца весь текст, чтобы когда он окончательно закончил вводить, проверилась валидация
- можно объединять в список поля и делать валидацию одновременно всех
- можно валидировать поля на основе других лайвдат
- можно получить доступ к результату валидации, а также сообщение

необязательно строковый, можно любой тип, битмап
можем спокойно валидировать, зная какой у нас тип данных


[Usage](https://github.com/icerockdev/moko-fields#usage)


## Практическое задание 

Создайте экран - Вход в приложение по email/password

- добавьте `emailField` и `passwordField` в общий код приложения, созданного про [шаблону](https://kotlinlang.org/docs/multiplatform-mobile-create-first-app.html)
- валидация email: 
  - регексп на валидный email (найти подходящую регулярку)
  - регексп на уже использованный email (тот, который прошел - сохраняем для текущей сессии)
  - только латиница
- валидация пароля:
    - количество символов > 8
    - есть цифры, большие и маленькие буквы 
    - только латиница
    - не содержет небуквенных символов
