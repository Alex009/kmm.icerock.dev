---
sidebar_position: 0
---

# Best Practices

## Введение
На этой странице представлены наиболее распространенные ошибки, с которыми сталкиваются все новички. Чем меньше будет таких ошибок в будущем, тем легче и быстрее будет проходить ревью проекта.

## Common
- [функции](function)
- стейты не должны содержать onClick-лямбду
- не работайте с доменными классами от сервера, просто преобразуйте их в свои и используйте везде свои (про маппинг тут подробнее сказать)
- Следите за неймингом! У вас не должно быть переменных и методов, которые не несут в названии никакой информации о том, для чего они, например:
  - `binding.button.setOnCLickListener { buttonClickAction() }` - что это за кнопка и что за метод?
- Используйте автоформатирование после изменения каждого файла
  - `Option` + `Command` + `L` (Android Studio)
  - `Control` + `i` (Xcode)
- Если вы используете State и Actions, то в названии переменных обязательно должно фигурировать, что это state или actions
- Новые зависимости добавляйте сразу в libs, в нужный блок, а не хардкодом
- Не используйте MR ресурсы на платформе, на андроид есть R, на iOS есть R.swift
- Не создавайте дополнительную переменную, если сразу же после ее создания присваиваете её куда-то, без каких либо модификаций
- Максимально настраивайте статический UI элемент в xml или xib, не надо его потом донастраивать в коде
- Не используйте форскасты
- Разделяйте классы/интерфейсы/объекты по файлам, [кодстайл](../../learning/code-style/separate-by-files)
- проверять по [кодстайлу](../../learning/code-style/it-in-lambdas) все то, что вы написали.

## iOS
- приватные аутлеты
- уделяйте пристальное внимание тому, как вы обрабатываете стейты
- Если какой-то набор элементов используется на нескольких экранах - выносите его в отдельную UIView и используйте на нужном экране
- Добавляйте текст на элементы, чтобы на дизайне экрана можно было ориентироваться. Не добавляйте такой текст, какой должен быть в готовом приложении, чтобы потом не забыть поменять. Например, для названия кнопки ввода используйте не "Ввод", а "//Ввод", тогда, если бы вы забыли заменить этот текст, то сразу бы увидели это при запуске
- векторные картинки должны быть single scale
- добавление кастомных вьюх через код, а не через IB 
- проверяйте имя файла картинки, не должна быть белиберда из фигмы

## Android
- не используйте константы для размера отступа или вьюхи
- уделяйте пристальное внимание тому, как вы обрабатываете стейты
- Конструкция `with(binding...)` для XML элементов. Не стоит ей злоупотреблять. Используйте ее только если вам предстоит работа с элементами минимум 3 уровня вложенности и обращение к этим элементам будет не менее 5 раз, иначе, `with(...)` только добавит вложенности и ухудшит читаемость кода, а не наоборот
- Если какой-то набор элементов используется на нескольких экранах - выносите его в отдельный layout и подключайте с помощью [include](https://developer.android.com/training/improving-layouts/reusing-layouts)
- Используйте [tools:text](https://developer.android.com/studio/write/tool-attributes), во всех UI элементах, которые содержат поле `text`, чтобы было легче ориентироваться в дизайне экрана ***Это можно просто требованием жестким поставить во все практики***
- ***Про верстку на констрейнтах и без кучи вложенности в другие констрейнты***
- ***Про верстку сверху вниз и снизу вверх, отступы от элементов, которые рядом, а не просто от главного экрана приложения***
- Для расположения элемента на экране не используйте `bias`. Его предназначение может понадобиться только для того, чтобы располагать элементы в пропорциональном отношении относительно других элементов.
- проверять savedInstanceState, чтобы не создавать граф заново 
- доступ к аргументам нужно через requireArguments(), если его нет - кидать ошибку а не тянуть nullable дальше


## Перед отправкой на ревью
Перед каждым коммитом выделяйте 5-7 минут, чтобы отсмотреть все изменения, на наличие ошибок, перечисленных на этой странице  
Также, после создания итогового merge request, отсмотрите все свои изменения. Благодаря тому, что вы проверяли их после каждого коммита, это не займет у вас слишком много времени.
Такая самопроверка не только позволит вам автоматически не допускать перечисленных ошибок в будущем, но и ускорит ревью вашего MR, потому что в нем уже не будет части ошибок.
