---
sidebar_position: 0
---

# Best Practices

## Введение
На этой странице представлены наиболее распространенные ошибки, с которыми сталкиваются все новички. Чем меньше будет таких ошибок в будущем, тем легче и быстрее будет проходить ревью проекта.

## Common
- Продумывайте имена функций и их содержимое, [памятка](function)
- не работайте с сетевыми сущностями в приложении, преобразуйте их в свои, доменные, и используйте везде свои
  - Если в приложении вы работаете с сетевыми сущностями, то в случае, если на сервере что-то изменят, завернут какое-то поле или еще что-то подобное, то вам придется исправлять все места, где используется эта сущность. А если при получении сетевой сущности сразу маппите ее в доменную, то при изменении сетевой вам нужно будет просто изменить маппер и все 
- Следите за неймингом! У вас не должно быть переменных и методов, которые не несут в названии никакой информации о том, для чего они, например:
  - `binding.button.setOnCLickListener { buttonClickAction() }` - что это за кнопка и что за метод?
- Используйте автоформатирование после изменения каждого файла
  - `Option` + `Command` + `L` (Android Studio)
  - `Control` + `i` (Xcode)
- Если вы используете State и Actions, то в названии переменных обязательно должно фигурировать, что это state или actions
- Новые зависимости добавляйте сразу в libs, в нужный блок, а не хардкодом [Version Catalog](../../learning/gradle/version-catalogs). (Начиная с 4ого блока)
- Не используйте MR ресурсы на платформе, на андроид есть R, на iOS есть R.swift. (ссылка на четвертый блок, где будет пояснение).
- В мультиплатформенных ресурсах должны быть только те, которые управляются общей логикой, те, которые не управляются - должны лежать на платформе
- ***Не создавайте дополнительную переменную, если сразу же после ее создания присваиваете её куда-то, без каких либо модификаций*** 
  - кейсы добавить
  - перефразировать
- Максимально настраивайте статический UI элемент в xml или xib, не надо его потом донастраивать в коде
- Не используйте форскасты
- Разделяйте классы/интерфейсы/объекты по файлам, [кодстайл](../../learning/code-style/separate-by-files)
- проверять по [кодстайлу](../../learning/code-style/it-in-lambdas) все то, что вы написали.

## iOS
- приватные аутлеты
- уделяйте пристальное внимание тому, как вы обрабатываете стейты ***Ссылка про стейты на iOS***
- Если какой-то набор элементов используется на нескольких экранах - выносите его в отдельную UIView и используйте на нужном экране
- Добавляйте текст на элементы, чтобы на дизайне экрана можно было ориентироваться. Не добавляйте такой текст, какой должен быть в готовом приложении, чтобы потом не забыть поменять. Например, для названия кнопки ввода используйте не "Ввод", а "//Ввод", тогда, если бы вы забыли заменить этот текст, то сразу бы увидели это при запуске
- векторные картинки должны быть single scale
- добавление кастомных вьюх должно быть не через код, а через Interface builder 
- проверяйте имя файла картинки, которую скачали с фигмы, оно должно явно обозначать, что это за картинка, аналогично с неймингом переменных

## Android
- Используйте константы для отступов в приложении правильно:
  - если дизайнер обозначил, что есть общие значения для некоторых отступов и тд - используйте
  - если обозначения общих размеров и отступов нет - использование на свой страх и риск
  - имена констант должны быть нормальные
  - констант не должно быть адское количество, иначе только путать будут
- уделяйте пристальное внимание тому, как вы обрабатываете стейты ***ссылка на обработку в андроиде***
- Используйте конструкцию `with(binding...)` для XML элементов правильно. Не стоит ей злоупотреблять, иначе она будет только ухудшать читаемость.
  - примеры Хорошо/плохо
- Если какой-то набор элементов используется на нескольких экранах - выносите его в отдельный layout и подключайте с помощью [include](https://developer.android.com/training/improving-layouts/reusing-layouts)
- Используйте [tools:text](https://developer.android.com/studio/write/tool-attributes), во всех UI элементах, которые содержат поле `text`, чтобы было легче ориентироваться в дизайне экрана ***Это можно просто требованием жестким поставить во все практики***
- ***Про верстку на констрейнтах и без кучи вложенности в другие констрейнты***
- ***Про верстку сверху вниз и снизу вверх, отступы от элементов, которые рядом, а не просто от главного экрана приложения***
  - если элемент расположен внизу экрана - не надо цеплять его к верху - снизу значит снизу 
- Не использовать `bias` для расположения элемента на экране
- проверять savedInstanceState, чтобы не создавать граф заново 
- доступ к аргументам нужно через requireArguments(), если его нет - кидать ошибку а не тянуть nullable дальше


## Перед отправкой на ревью
- Перед каждым коммитом выделяйте 5-7 минут, чтобы отсмотреть все изменения, на наличие ошибок, перечисленных на этой странице  
- Также, после создания итогового merge request, отсмотрите все свои изменения. Благодаря тому, что вы проверяли их после каждого коммита, это не займет у вас слишком много времени.

- Такая самопроверка не только позволит вам автоматически не допускать перечисленных ошибок в будущем, но и ускорит ревью вашего MR, потому что в нем уже не будет части ошибок.
