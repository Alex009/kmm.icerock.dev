---
sidebar_position: 1
---
 
че такое сокетное соединение
че такое веб сокеты
В чем разница
как выглядит со стороны iOS(URLSession) и Android(OKHttp)
как можно в мультиплатформе(либо ктор заютать 2.0, там для обеих платформ есть поддержка вебсокетов) либо можно взять нашу либу moko-soсket-io, если у вас не чистые веб сокеты, а именно socket io протокол


На базе сокетного соединения построены рестовые запросы. (http) 
- открывается сокетное соедниение
- туда кидаются какие-то данные 
- в ответ тоже чето кидается 
- обычные запросы соединение прервут

Если открыл сокет вручную - то можно долго держать это соединение. Пуши работают на базе сокетного соединеия. Как только сервак узнает, что надо прислать что-то новое - он кидает в этот сокет кидает сообщение - тебе пуш.
Сокет автоматически реконектится если произошла потеря связи

Веб сокеты - они на основе обычных http запросов процедуру установки сокетного соединения делают, они вместо того чтобы после установки соединения и получения ответа разорвать соединение - они оставляют это соединение и переходят в режим сокета - и клиент и сервер могут друг другу чето кидать 
Пока не разорвут специально соединение ниче не произойдет

SocketIO - взяли вебсокет и сделал протокол обмена данными внутри. Т.е. не удастся на одной стороне заюзать сокетIO а на другой обычный вебсокет. 

Кейсы, когда нужны именно сокеты, когда сервер должен мочь в любой момент что-то сообщить:
- обновление положения машинки такси на карте
- обновление статуса про курьера
- чатики (чтобы не кидать каждую секунду кидать запрос на получение новых сообщений)

Есть более простая реализация замены сокетам это LongPooling-запросы

Запрос кидается в сторону сервера, у него очень большое время ожидания ответа. Сервер сразу отвечает если у него есть че ответить, если пока нечего ответить - не отвечает что "ответить нечем" и просто держит соединение. Если таймаут сгорит - то клиент просто задублирует свое сообщение

Легче чем сокет, потому что там пингпонг делать надо. Чтобы лонгпулинг был - надо чтобы у сервера была такая механника в конкретном запросе.
Это чуть больше нагружает сервер, потому что все равно соединение надо поддерживать. А сокет будет душить пингпонгом, и девайс все время будет активен, потому что идет соединение. 

